<html>

<head>

  <style>
    body {
      margin: 0px;
      padding: 0;
      overflow: hidden;
      text-align: center;
    }

    div {
      border-style: dotted;
    }

    h1 {
      color: red;
    }
  </style>
  <script src="p5.min.js"></script>
  <script src="p5.gif.min.js"></script>
  <script src="p5.collide2d.min.js"></script>
  </head>
   <body>
    <div>
      <h1> Steal the Diamond! </h1>
    Sebastian the explorer has to steal the diamond and bypass the ancient traps in his path!
    <h1 id="status"></h1>
      </div> <script>
      // made by donald with a rockstar
      // declaring resources
      let lavagif
      let diamondimg
      let playerimg
      let arrow1
      let explosionanim
      let explosound
      let mineimg
      let arrowTrap1_X = 0;
    let arrowTrap1_Y = 0;
 //   let arrowTrap2_X = 0;
  //  let arrowTrap2_Y = 0;
  //  let arrowTrap3_X = 0;
  //  let arrowTrap3_Y = 0;
    let dedsound
    var w = window.innerWidth;
    var h = window.innerHeight;
    var gif;
    let timer = 5;
    let timer2 = 5;
    var killamine = new killamine();
    var killamine2 = new killamine2();
    var killamine3 = new killamine3();
    var killamine4 = new killamine4();
    var arrowTrap1 = new arrowTrap1();
    var lava = new lava();
    var diamond = new diamond();
    var player = new player()
  //  var arrowTrap2 = new arrowTrap2();
 //   var arrowTrap3 = new arrowTrap3();
    var d = 0;
    var minesize = 20;

    function setup() {
      createCanvas(w, h);
      gif = loadGif('explo.gif')
      playerimg = loadImage('protag.png');
      diamondimg = loadImage('diamond.png');
      lavagif = loadGif('lava.gif');
      explosionanim = loadGif('explo.gif');
      arrow1 = loadImage('arrow.png');
      mineimg = loadImage('mine.png');
  //    dedsound = loadSound('ded.mp3');
  //    explosound = loadSound('explo.mp3');
    }

    function draw() {
      if (frameCount % 60 == 0 && timer > 0) { // if the frameCount is divisible by 60, then a second has passed. it will stop at 0
        timer--;
      }
      background(255);
      player.show();
      player.move();
      killamine.show();
      //killamine.kill();
      killamine2.show();
     // killamine2.kill();
      killamine3.show();
    //  killamine3.kill();
      killamine4.show();
     // killamine4.kill();
     // arrowTrap1.show();
      //arrowTrap1.kill();
      diamond.show();
      diamond.kill();
      lava.show();
      hit = collideRectRect(killamine.x,killamine.y,minesize,minesize,player.x,player.y,100,200);
      hit2 = collideRectRect(killamine2.x,killamine2.y,minesize,minesize,player.x,player.y,100,200);
      hit3 = collideRectRect(killamine3.x,killamine3.y,minesize,minesize,player.x,player.y,100,200);
      hit4 = collideRectRect(killamine4.x,killamine4.y,minesize,minesize,player.x,player.y,100,200);
      hit5 = collideRectRect(lava.x,lava.y,200,500,player.x,player.y,100,200);
      if (hit){
        document.getElementById('status').innerHTML = "You are dead!"
       // fill(color('red'));
       ellipse(killamine.x, killamine.y, 50, 50);
       noLoop();
      }
      if (hit2){
        document.getElementById('status').innerHTML = "You are dead!"
       // fill(color('red'));
       ellipse(killamine2.x, killamine2.y, 50, 50);
       noLoop();
      }
      if (hit3){
        document.getElementById('status').innerHTML = "You are dead!"
      //  fill(color('red'));
       ellipse(killamine2.x, killamine2.y, 50, 50);
       noLoop();
      }
      if (hit4){
        document.getElementById('status').innerHTML = "You are dead!"
      //  fill(color('red'));
       ellipse(killamine3.x, killamine3.y, 50, 50);
       noLoop();
      }
      if (hit5){
        document.getElementById('status').innerHTML = "You are dead!"
       noLoop();
      }
    }
    function arrowTrap1(){
 this.x = 225;
 this.y = h;
 var h = 10;
 this.show = function(){
   rect(this.x,this.y,h,30);
  // arrow1(img,this.x,this.y);
   arrowTrap1_Y = arrowTrap1_Y + 9.5;
   if (arrowTrap1_Y > w + h){
     x = -h;
   }
 }
 // gay
   this.kill = function() {
     if (hitar1 = true ) {
       fill(color('red'));
       ellipse(this.x, this.y, 50, 50);
       // stop game and say gameonver
    //   dedsound.play()
       document.getElementById('status').innerHTML = "You are dead!"
       noLoop();
     }
   }
   };


    function player() {
      this.x = 10;
      this.y = 100;
      this.show = function() {
        rect(this.x, this.y,100,200);
        image(playerimg,this.x,this.y,100,200);
        fill(color('white'))
      };
      this.move = function() {
        if (keyIsDown(68) && (w > this.x +10)) {
          this.x += 10;
        } // right arrow
        if (keyIsDown(65) && (w > this.x -10)) {
          //leftarrow
          this.x -= 10;
        }
        if (keyIsDown(87) && (h > this.y -10)) {
          // up arrow
          this.y -= 10;
        }
        if (keyIsDown(83) && (h > this.y +10)) {
          // down arrow
          this.y += 10;
        }
      };
    }

    function killamine4() {
      this.x = 1350
      this.y = 100
      var size = 20;
      this.kill = function() {
        d = dist(this.x - 30, this.y - 30, player.x, player.y)
      };

      this.show = function() {
        var size = 50;
        fill(color('red'));
          image(mineimg,this.x,this.y, minesize, minesize);
        rect(this.x, this.y,minesize,minesize);
      };
    }

    function killamine3() {
      this.x = w / 2
      this.y = h / 2
      var size = 20;
      this.kill = function() {
        d = dist(this.x, this.y, player.x, player.y)

        if (d < 100) {
          fill(color('orange'));
          ellipse(this.x, this.y, 200, 200);
          fill(color('yellow'));
          ellipse(this.x, this.y, 100, 100);
          fill(color('red'));
          ellipse(this.x, this.y, 50, 50);
          image(explosionanim, this.x, this.y);
          // stop game and say gameonver
          document.getElementById('status').innerHTML = "Game over!"
          noLoop();
      //    dedsound.play()
        }
      };

      this.show = function() {
        var size = 50;
        fill(color('black'));
        image(mineimg,this.x,this.y, minesize, minesize);
        ellipse(this.x, this.y, minesize, minesize);
      };
    }
  
    function killamine2() {
      this.x = 1040
      this.y = 120
      var size = 20;
      this.kill = function() {
        d = dist(this.x, this.y, player.x, player.y)

        if (d < 50) {
          fill(color('orange'));
          ellipse(this.x, this.y, 200, 200);
          fill(color('yellow'));
          ellipse(this.x, this.y, 100, 100);
          fill(color('red'));
          ellipse(this.x, this.y, 50, 50);
        image(explosionanim, this.x, this.y);
          // stop game and say gameonver
          document.getElementById('status').innerHTML = "Game over!"
          noLoop();
      //    dedsound.play()
        }
      };

      this.show = function() {
        var size = 50;
        fill(color('black'));
        image(mineimg,this.x,this.y, minesize, minesize);
        ellipse(this.x, this.y, minesize, minesize);
      };
    }

    function killamine() {
      this.x = 870
      this.y = 20
      var size = 20;
      this.kill = function() {
        d = dist(this.x, this.y, player.x, player.y)

        if (d < 50) {
          fill(color('orange'));
          ellipse(this.x, this.y, 200, 200);
          fill(color('yellow'));
          ellipse(this.x, this.y, 100, 100);
          fill(color('red'));
          ellipse(this.x, this.y, 50, 50);
          image(explosionanim, this.x, this.y);
          // stop game and say gameonver
          document.getElementById('status').innerHTML = "Game over!"
          noLoop();
      //    dedsound.play()
        }
      };

      this.show = function() {
        var size = 50;
        fill(color('black'));
        image(mineimg,this.x,this.y, minesize, minesize);
        ellipse(this.x, this.y, minesize, minesize);
      };
    }

    function diamond() {
      this.x = w - 50;
      this.y = h/2;
      var size = 20;
      this.kill = function() {
        d = dist(this.x, this.y, player.x, player.y)
        if (d < 200) {
          // stop game and say gameonver
          document.getElementById('status').innerHTML = "Congratulations"
          noLoop();
        }
      };

      this.show = function() {
        var size = 50;
        fill(color('cyan'));
        ellipse(this.x, this.y, minesize, minesize);
        image(diamondimg,this.x,this.y);
      };
    }
    function lava() {
      this.x = w - 400
      this.y = 220
      var size = 20;

      this.show = function() {
        var size = 50;
        fill(color('red'));
      //  image(lavagif,this.x,this.y,200,500);
        rect(this.x, this.y, 200,500);
      };
    }

  </script>

  </body>

</html>
